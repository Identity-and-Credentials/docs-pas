---
title: Isolation Segment v4.0 Release Notes
owner: Release Engineering
---

<% current_page.data.title = "Isolation Segment" + " " + vars.v_major_version + " Release Notes" %>

This topic contains release notes for <%= vars.segment_runtime_full %> <%= vars.v_major_version %>.

<%= vars.app_runtime_first %> is certified by the Cloud Foundry Foundation for <%= Date.today.year %>.

For more information about the Cloud Foundry Certified Provider Program, see [How Do I Become a Certified
Provider?](https://www.cloudfoundry.org/certified-platforms-how-to/) on the Cloud Foundry website.

Because VMware uses the Percona Distribution for MySQL, expect a time lag between Oracle releasing a MySQL patch and VMware releasing
<%= vars.app_runtime_abbr %> containing that patch.

<hr>

## <a id='releases'></a> Releases

### <a id='3.0.1'></a> 3.0.1

**Release Date:** 11/15/2022

* **[Feature]** Add "Max request header size in kb" property to Networking tab to allow operators to specify a limit on the aggregate size of request headers. Requests over this limit receive a 431 status code.
* Bump cf-networking to version `3.14.0`
* Bump garden-runc to version `1.22.5`
* Bump mapfs to version `1.2.12`
* Bump nfs-volume to version `7.1.8`
* Bump routing to version `0.244.0`
* Bump silk to version `3.14.0`
* Bump smb-volume to version `3.1.6`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
      <th>Release Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-jammy stemcell</td><td>1.8</td><td></td></tr>
    <tr><td>bpm</td><td>1.1.19</td><td></td></tr>
    <tr><td>cf-networking</td><td>3.14.0</td><td></td></tr>
    <tr><td>cflinuxfs3</td><td>0.321.0</td><td></td></tr>
    <tr><td>cflinuxfs4</td><td>0.28.0</td><td></td></tr>
    <tr><td>diego</td><td>2.66.3</td><td></td></tr>
    <tr><td>garden-runc</td><td>1.22.5</td><td></td></tr>
    <tr><td>loggregator-agent</td><td>6.5.0</td><td></td></tr>
    <tr><td>mapfs</td><td>1.2.12</td>
      <td>
        <details>
          <summary>v1.2.12</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Replace `go get` with `go install` (#23)
  * Update vendored package golang-1-linux (#26)
  * Update vendored package golang-1-linux (#27)
  ## Dependencies
  * **mapfs:** Updated to v`27f8711`.<br>For more information, see [mapfs](https://github.com/cloudfoundry/mapfs).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>metrics-discovery</td><td>3.2.0</td><td></td></tr>
    <tr><td>nfs-volume</td><td>7.1.8</td>
      <td>
        <details>
          <summary>v7.1.8</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Fix upgrade from 7.1.6 (#253)
  * Include openldap 2.4.44 blob in release to use it in Xenial (#254)
          </pre>
        </details>
        <details>
          <summary>v7.1.7</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Add final release 7.1.6 [ci skip]
  * Bump OpenLDAP package to 2.5.13 LTS, which supports xenial (#241)
  * Remove libnfsidmap from jammy. Was replaced by new nfs-utils (#220)
  * Replace `go get` with `go install` (#209)
  ## Dependencies
  * **bosh-template:** Updated to v2.3.0.<br>For more information, see [bosh-template](https://github.com/cloudfoundry/bosh).
  * **gomega:** Updated to v1.20.2.<br>For more information, see [gomega](https://github.com/onsi/gomega).
  * **nfsbroker:** Updated to v`2e74bed`.<br>For more information, see [nfsbroker](https://github.com/cloudfoundry/nfsbroker).
  * **nfsv3driver:** Updated to v`e206602`.<br>For more information, see [nfsv3driver](https://github.com/cloudfoundry/nfsv3driver).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>routing</td><td>0.244.0</td>
      <td>
        <details>
          <summary>v0.244.0</summary>
          <pre style="max-width: 30em">
  ## What's Changed
  * Emit access logs for 431 responses to Loggegator [gorouter PR #331](https://github.com/cloudfoundry/gorouter/pull/331). Thanks @dsabeti !
  * Always suspend pruning when nats is down https://github.com/cloudfoundry/routing-release/pull/287. Thanks @ameowlia !
  * **Full Changelog**: https://github.com/cloudfoundry/routing-release/compare/v0.243.0...v0.244.0
  ## âœ¨  Built with go 1.19.2
          </pre>
        </details>
        <details>
          <summary>v0.243.0</summary>
          <pre style="max-width: 30em">
  ðŸŽ‰ Bumped to go1.19.2
  **Full Changelog**: https://github.com/cloudfoundry/routing-release/compare/v0.242.0...v0.243.0
          </pre>
        </details>
        <details>
          <summary>v0.242.0</summary>
          <pre style="max-width: 30em">
  ## What's Changed
  -  `tcp_router` is now more verbose when running `haproxy_reloader` to assist in diagnosting failed reloads. Thanks @geofffranks! ðŸŽ‰ ([PR 9](https://github.com/cloudfoundry/cf-tcp-router/pull/9))
  - `gorouter` will now truncate access logs that exceed loggregator + UDP packet limits, so that we no longer drop access log messages sent to the firehose. Thanks @ameowlia @ebroberson! ðŸ˜» ([PR 328](https://github.com/cloudfoundry/gorouter/pull/328) and [PR 329](https://github.com/cloudfoundry/gorouter/pull/329))
  **Full Changelog**: https://github.com/cloudfoundry/routing-release/compare/v0.241.0...v0.242.0
  ## âœ¨  Built with go 1.18
  * despite what the docs/go.version says
  * because the go 1.18 package is present
          </pre>
        </details>
        <details>
          <summary>v0.241.0</summary>
          <pre style="max-width: 30em">
  ðŸŽ‰ ~~Bumped to go1.19.1~~
  * Still using go 1.18
  * despite what the docs/go.version says
  * because the go 1.18 package is present
  * @plowin submitted [gorouter PR 327](https://github.com/cloudfoundry/gorouter/pull/327) to adjust endpoint-not-unregistered log-level to 'info'
  **Full Changelog**: https://github.com/cloudfoundry/routing-release/compare/v0.240.0...v0.241.0
          </pre>
        </details>
        <details>
          <summary>v0.240.0</summary>
          <pre style="max-width: 30em">
  ## What's Changed
  * @geofffranks and @ameowlia added property `router.max_header_bytes` to the gorouter job.
  * This value controls the maximum number of bytes the gorouter will read parsing the request header's keys and values, including the request line.
  * It does not limit the size of the request body.
  * An additional padding of 4096 bytes is added to this value by go.
  * Requests with larger headers will result in a 431 status code.
  **Full Changelog**: https://github.com/cloudfoundry/routing-release/compare/v0.239.0...v0.240.0
  ## Manifest Property Changes
  | Job | Property | 0.237.0 | 0.238.0 |
  | --- | --- | --- | --- |
  | `gorouter` | `router.max_header_bytes` | didn't exist | 1048576 (1MB) |
  ## âœ¨  Built with go 1.18.6
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>silk</td><td>3.14.0</td><td></td></tr>
    <tr><td>smb-volume</td><td>3.1.6</td>
      <td>
        <details>
          <summary>v3.1.6</summary>
          <pre style="max-width: 30em">
  ## Changes
  * Update vendored package golang-1-linux (#67)
  * Update vendored package golang-1-linux (#70)
  ## Dependencies
  * **bosh-template:** Updated to v2.3.0.<br>For more information, see [bosh-template](https://github.com/cloudfoundry/bosh).
  * **smbbroker:** Updated to v`89a0251`.<br>For more information, see [smbbroker](https://github.com/cloudfoundry/smbbroker).
  * **smbdriver:** Updated to v`68ff9d8`.<br>For more information, see [smbdriver](https://github.com/cloudfoundry/smbdriver).
          </pre>
        </details>
      </td>
    </tr>
    <tr><td>smoke-tests</td><td>4.7.0</td><td></td></tr>
    <tr><td>syslog</td><td>12.0.4</td><td></td></tr>
  </tbody>
</table>



<%# DO NOT DELETE THIS LINE - robots use this to add new release notes %>

## <a id='install'></a> How to Install

<% if not vars.platform_code == 'OFFLINE' %>
To install <%= vars.segment_runtime_full %> <%= vars.v_major_version %>, see [Installing
<%= vars.segment_runtime_full %>](../operating/installing-pcf-is.html).
<% end %>

To install <%= vars.segment_runtime_full %> <%= vars.v_major_version %>, you must first install Ops Manager <%= vars.v_major_version %>. For more information,
see the [Ops Manager documentation](https://docs.pivotal.io/ops-manager/index.html).

## <a id='new-features'></a> New Features in <%= vars.segment_runtime_full %> <%= vars.v_major_version %>

## <a id='breaking-changes'></a> Breaking Changes

### Max Request Header Size Now Defaults to 48kb
Upgrading to TAS 4.0 will automatically set **Max request header size in kb** to 48,
unless the pre-existing configuration was already lower. Lowering this value establishes
a better security posture for TAS for VMs and applications. This value can still be configured
back up to 1024kb in the Networking tab if necessary.  Any requests with headers larger than
this value will receive a 431 status code.

## <a id='known-issues'></a> Known Issues

There are no known issues for <%= vars.segment_runtime_full %> <%= vars.v_major_version %>.
